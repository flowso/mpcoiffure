!function(e){e.fn.amodal=function(a){var n,o,l,s;n=e.extend({modal:"modal-window",close:"modal-close",closeText:"x",shade:"modal-shade"},a),s=e("body"),l=function(e,a){e.remove(),a.remove()},o=function(a){var o,t,c;o=e("<div />",{"class":n.shade}).on("click",function(e){l(c,o)}),t=e("<a />",{text:n.closeText,"class":n.close,href:"#"}).on("click",function(e){l(c,o),e.preventDefault()}),c=e("<div />",{html:a,"class":n.modal}).append(t),s.prepend(o,c)},this.on("click",function(a){var n=e(this);e.ajax({url:n.data("content"),type:"get",cache:!1}).done(function(e){o(e)}).fail(function(){o("There was an error. Refer to <a href='http://x.zruybal.com/Nox/NoxFramework/wiki/Ajax-Modal-Error'>err01</a>.")}),a.preventDefault()})}}(jQuery);
